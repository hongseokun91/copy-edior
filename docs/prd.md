솔루션: PRD v0.1 확정본
1. 제품 개요
1.1 제품명(가칭)
전단지 문구 메이커 (Flyer Copy Maker)
1.2 문제 정의
소상공인이 인쇄물 제작 시 겪는 핵심 문제:
무엇을 넣어야 하는지(구성/필수요소) 모름
문구 길이가 들쭉날쭉해 레이아웃에 안 맞음
혜택/기간/CTA/문의 누락으로 완성도가 떨어짐
디자이너에게 전달할 “정리된 문구” 형태가 없음
1.3 해결 방식(USP)
인쇄물 타입별 패널/슬롯 구조를 정의하고
슬롯 글자수 규격을 강제하며
업종/목적/스타일 규칙으로 문구를 생성해
사장님용(가독성)/ 디자이너용(슬롯ID+글자수)형태로 즉시 복붙 출력
2. 목표 / 비목표
2.1 목표(Goals)
60초 내 입력 완료 → 3~5초 내 결과 출력
전단지 1면 기준 인쇄 실사용 가능한 완성본(필수 요소 누락 최소화)
디자이너가 바로 붙여넣을 수 있는 슬롯 단위 출력 + 글자수 표시
무가입 공개 서비스 운영을 위한 레이트리밋/캐시/안전표현 처리
2.2 비목표(Out of Scope, v0.1)
회원가입/저장/공유 링크
PDF/이미지 레이아웃 자동 생성
OCR/이미지 편집/템플릿 편집기
다국어
업종별 법무 준수 “보장”(경고/완화만 제공)
3. 사용자 & 시나리오
3.1 페르소나
P1 사장님(비전문가): “바로 쓸 문구”
P2 디자이너/마케터(실무자): “슬롯별 복붙 + 길이 예측”
3.2 핵심 성공 시나리오
사장님이 모바일에서 6개 입력 → 전단지 문구 완성본 복사
디자이너가 디자이너 모드에서 슬롯별 문구 복사 → 레이아웃 적용
4. 범위(Scope)
4.1 v0.1 포함 기능
인쇄물 타입(초기 1개 + 준비된 확장)
전단지 1면(A4/A5) = v0.1 1순위 완성
3단 리플렛/4P 브로슈어는 UI 탭은 노출하되v0.1에서는 “준비중” 처리 가능(선택)
또는 v0.1에 전단지+3단까지 포함(리소스 여유 시)
톤(3)
친근 / 프리미엄 / 직진
스타일(8~12)
정적 썸네일 + 스타일 규칙(길이/어휘/패턴)
생성 결과
A/B/C 3버전 생성(표현만 다르게)
출력 탭: 사장님용 / 디자이너용
슬롯별 복사 / 전체 복사
TXT 다운로드
품질 장치
글자수/슬롯 규격 강제
자동 축약 → 슬롯만 재생성(필요 시)
과장/단정 표현 완화(업종군 기반)
운영 장치
IP당 일일 생성 제한(자정 KST 리셋)
쿨다운(연속 생성 방지)
동일 입력 해시 기반 결과 캐시(24h)
5. IA(정보 구조) & 페이지 구성
5.1 페이지
홈(/)
헤드라인: “전단지 문구, 패널 규격에 맞춰 바로 복붙”
CTA 1개: “전단지 문구 만들기”
(옵션) 인기 업종 칩 6개
생성(/make)
상단: 타입 탭(전단지/3단/4P), 톤 선택, 스타일 선택
중앙: 입력 폼(필수 6개)
하단: 결과 영역(사장님용/디자이너용, A/B/C)
6. UX Flow
6.1 기본 플로우(무가입)
업종 선택
목적 선택
스타일 선택(추천 3개 + 더보기)
필수 6개 입력 완료
[문구 만들기]
결과 확인 → [전체 복사] 또는 [TXT 다운로드]
(선택) A/B/C 다른 버전, 톤 변경, 스타일 변경
6.2 UX 단순화 규칙(필수)
“고급 옵션/부가 설명”은 접기(필드 아래 도움말 최소)
입력 필드당 예시 placeholder + 추천 칩제공
에러는 모달 대신 필드 하단 인라인로만 표시
생성 중은 스켈레톤 + “규격에 맞게 다듬는 중” 1줄
7. 입력 스펙(필수 6개 유지)
7.1 필수 입력(6)
업종(Category)
UI: 검색형 드롭다운 + 추천 칩
검증: 필수 선택
부가: 업종 선택 시 “오퍼 추천/금칙어 룰” 로드
목적(Goal)
UI: 칩 선택(오픈/할인/모집/예약유도/신메뉴/시즌이벤트)
검증: 필수 1개
상호명(Name)
UI: 텍스트
검증: 2~20자(공백/특수문자 정리)
혜택/오퍼(Offer)
UI: 텍스트 + 업종별 추천 3칩(원클릭 입력)
검증: 4~40자
품질 체크: 숫자/조건 포함 여부(내부)
기간(Period)
UI: 원클릭 칩 + 텍스트(직접입력)
칩 예: 오늘~일요일, 이번주, 2주, 1개월, 직접입력
검증: 필수(비어있으면 에러)
표준화: 입력값을 가능한 범위에서 “표준 표시”로 변환(예: 2/1~2/14)
문의/예약(Contact)
UI: 채널 라디오 + 값 1칸
전화 / 카톡 / 네이버예약
검증: 채널 1개 + 값 필수
정리: 전화 하이픈 자동, URL 형식 최소 검증
7.2 (선택) 입력(v0.1에서는 “접기”로 제공 가능)
위치(동네), 영업시간, 강점 1줄, 타깃, 편의, 유의사항
선택 입력은 UI는 접어두고, 결과 품질에 도움이 되는 값만 사용합니다.
8. 스타일(Style) 시스템
8.1 스타일 정의(무겁지 않게, 그러나 ‘선택 느낌’ 강하게)
스타일은 “디자인 생성”이 아니라 문구 규칙 세트
UI에는 정적 썸네일 + 1줄 설명 + 태그 2개만 노출
8.2 스타일 수(v0.1)
8~12개 고정(추후 확장)
8.3 스타일 썸네일 구현(권장)
/public/styles/{styleId}.webp정적 파일
제작: Figma에서 1회 제작 후 export
카드에는 “더미 텍스트”로 충분(권리/일관성 문제 최소)
8.4 스타일이 생성에 주는 파라미터(예)
length_bias: short/normal
emoji_allowed: boolean
tone_keywords: ["정돈", "간결", "신뢰"]
headline_pattern: "혜택전면" | "오픈강조" | "예약유도"
cta_style: "부드럽게" | "강하게"
9. 출력 스키마(전단지 1면 v0.1 확정)
9.1 공통 출력 원칙
모든 출력은 복붙 가능한 텍스트 블록
슬롯마다 글자수 제한 강제
A/B/C 버전은 “의미 동일, 표현만 차별”
사장님용: 카드형 섹션(가독성)
디자이너용: SLOT_ID (len/max): text포맷
9.2 전단지 1면 슬롯(확정)
HEADLINE≤ 18자
SUBHEAD≤ 32자
BENEFIT_BULLETS3~5개 (각 ≤ 18자)
CTA≤ 16자
INFO3줄(주소/시간/문의) 각 1줄(≤ 40자 권장)
DISCLAIMER(옵션) ≤ 40자
10. 문구 생성 규칙(품질 장치)
10.1 생성 파이프라인(권장: 규격 엔진 중심)
입력 정리(정규화/검증)
업종/목적/톤/스타일 기반 “문장 부품” 적용(패턴/프레이즈)
슬롯별 길이 체크
초과 시 자동 축약(불용어 제거/동의어 치환/어미 단순화)
그래도 초과 → 해당 슬롯만 짧은 버전으로 재생성
업종군 기반 과장/단정 표현 완화
최종 출력(A/B/C)
v0.1에서 “결과 완성도”는 2~5번이 핵심입니다. UI 추가 없이 품질이 올라갑니다.
10.2 과장/단정 표현 완화(업종군 룰)
병원/건강/다이어트/시술 등: “완치/100%/부작용 없음/보장” 류 완화
결과 하단 1줄 고지: “표현은 업종 특성에 따라 완화될 수 있어요(법무 검토 별도)”
11. 기능 요구사항(Functional Requirements)
11.1 필수 기능 체크리스트
타입 탭(전단지/3단/4P)
톤 선택(친근/프리미엄/직진)
스타일 선택(추천 3 + 더보기, 썸네일)
필수 6개 입력 + 검증/정규화
생성(A/B/C 3버전)
결과 탭(사장님용/디자이너용)
슬롯별 복사 / 전체 복사
TXT 다운로드
디자이너용 글자수 카운터 표시
과장표현 완화 + 업종군 경고(과도한 UI 금지: 인라인 1회)
레이트리밋(일일/IP) + 쿨다운
입력 해시 기반 결과 캐시(24h)
12. 비기능 요구사항(Non-Functional)
성능: 생성 API 3~5초 내(캐시 히트 시 1초 내)
안정성: 입력이 최소한이어도 “완성본”은 반드시 출력(빈 슬롯 금지)
모바일 우선: 360px 기준 깨짐 없음
프라이버시: 무가입/영구 DB 저장 없음. 단, 남용 방지/성능을 위해 Redis에 레이트리밋·쿨다운용 해시 키 및 동일 입력 결과 캐시(최대 24h TTL)가 저장될 수 있음. 원문 IP는 저장/로그 금지(해시만).
접근성: 버튼/입력 aria, 명확한 라벨, 색만으로 상태 표현 금지
운영: 남용 방지(쿨다운/일일 제한/봇 탐지 최소)
R1: “Redis 장애/timeout 시 cache/rate/cooldown은 fail-open(생성은 진행)”
R2: “표준 순서: RateLimit → Cooldown → CacheHit → Generate”
R3: “LLM 응답 형식/파싱 실패 시 repair 1회 → 실패하면 safeFallbackTemplate”

   
13. API 스펙(권장, Next.js 기준)
13.1 POST /api/generate
Request
type: "flyer" (v0.1 고정)
tone: "friendly" | "premium" | "direct"
styleId: string
inputs:
category, goal, name, offer, period, contactType, contactValue
(optional) location, hours, usp, target, convenience, disclaimerHint
Response
variants: { A, B, C }
각 variant는 슬롯 구조로 반환
meta:
rateLimit: { remaining, resetAtKST}
cacheHit: boolean
normalized: { 정규화된 period/contact 표시값 }
warnings: ["표현 완화 적용", "문구 자동 축약 2곳"] 등
13.2 레이트리밋 키 정책(서버 내부)
ipHash = sha256(ip + salt)
key = rl:{YYYY-MM-DD(KST)}:{ipHash}
일일 제한 N회, TTL = 다음날 00:00(KST)까지
쿨다운: cd:{ipHash}10초 TTL
13.3 캐시 키 정책(서버 내부)
inputHash = sha256(JSON.stringify(requestCore))
key = gen:{inputHash} (value=결과 JSON) TTL 24h
표준 순서:RateLimit → Cooldown → CacheHit → Generate(LLM) → PostProcess → CacheSet → Return
키 표준:rl:{YYYY-MM-DD(KST)}:{ipHash}, cd:{ipHash}, gen:{inputHash}
(지금 사용자 메모에 있는 rate:/cool:은 문서 표준과 불일치→ 둘 중 하나로 강제)
동일 입력 반복 비용 0에 가깝게
14. 에러/상태(UX 문구 포함)
14.1 입력 에러(인라인)
“업종을 선택해 주세요.”
“혜택/오퍼를 4~40자로 입력해 주세요.”
“기간을 입력해 주세요. (예: 2/1~2/14)”
“문의 채널과 값을 입력해 주세요.”
14.2 레이트리밋 초과
결과 영역 상단 인라인:
“오늘 생성 가능 횟수를 모두 사용했어요. {resetAt} 이후 다시 시도해 주세요.”
14.3 서버 오류
“일시적으로 생성에 실패했어요. 잠시 후 다시 시도해 주세요.”
(디버그 숨김) requestId만 로그로 남김
LLM 형식 오류/파싱 실패 시 safeFallbackTemplate로 200 응답(또는 206/partial) + warnings



Redis 장애/timeout 시 Cache GET/SET은 Fail-Open(무시하고 생성 진행)
RateLimit/Cooldown은 정책 선택 명시(권장안: Fail-Open + ‘degraded’ 플래그 + 서버 로그/카운터)


15. 분석 이벤트(Analytics)
page_view(home/make)
select_type, select_tone, select_style
input_complete(6개 모두 충족 시)
generate_click, generate_success, generate_fail
copy_slot, copy_all, download_txt
change_variant, change_style, change_tone
rate_limited   

Analytics 전송 실패는 무시, UI 흐름에서 await 금지, fire-and-forget


16. 품질 기준(수용/검수 체크리스트)
16.1 결과 품질(전단지)
6개 필수 요소가 결과에 모두 반영됨(기간/문의 누락 0)
HEADLINE/SUB/CTA는 글자수 제한을 넘지 않음(자동 축약/재생성 적용)
형식 파손 시에도 최소 슬롯은 항상 채움(빈 슬롯 0)
불릿은 3~5개이며 각 18자 이내
디자이너 모드에서 슬롯ID/글자수 표시가 정확함
A/B/C는 최소 헤드라인/CTA/불릿 표현이 유의미하게 다름
16.2 UX 품질(단순함)
생성 페이지에서 사용자가 해야 할 주요 클릭은 10회 이하
에러는 모달 없이 인라인으로 해결 가능
모바일에서 한 손 입력 흐름이 자연스러움(키보드/스크롤 고려)
16.3 운영 품질
IP당 일일 제한 동작(자정 KST 리셋)
쿨다운 동작
캐시 히트 시 속도 개선 체감
IP 원문 저장/로그 출력 없음(해시만)
17. 출시 로드맵(v0.1 이후)
v0.2: 업종/목적 프리셋 랜딩(SEO), “짧게/길게” 토글, 주의문구 프리셋
v1.0: 리플렛/브로슈어 완성, 디자인툴 전달 포맷 강화(슬롯 export 규격), 업종별 금칙 강화
18. 리스크 & 대응
리스크: 흔한 카피 생성기처럼 보임
대응: “패널/슬롯 규격 + 디자이너 모드 + 글자수 강제”를 USP로 상단 고정
리스크: 과장표현 민원
대응: 업종군 완화 룰 + 1줄 고지 + “표현 순화” 옵션(v0.2)
리스크: 트래픽 증가 시 비용
대응: 레이트리밋 + 쿨다운 + 입력 해시 기반 결과 캐시 + (추후) 고급 생성 분리
예시(전단지 1면, v0.1 출력 포맷)
입력(카페/오픈/미니멀)
상호: 라이트빈
혜택: 아메리카노 1+1
기간: 2/1~2/14
문의: 네이버예약 / naver.me/xxxx
Variant A (사장님용)
헤드라인: “○○동 라이트빈 오픈”
서브: “오픈 기념 아메리카노 1+1”
불릿: “수제 디저트”, “포장/배달”, “조용한 좌석”
CTA: “지금 예약하고 혜택!”
정보: “기간 2/1~2/14 · 네이버예약 naver.me/xxxx”
Variant A (디자이너용)
HEADLINE (11/18): ○○동 라이트빈 오픈
SUBHEAD (18/32): 오픈 기념 아메리카노 1+1
BULLET_1 (6/18): 수제 디저트
CTA (12/16): 지금 예약하고 혜택!
…
고급 팁(완성도 올리면서 UX 유지)
기간/문의 UI는 “필수”여도 입력 스트레스가 없게: 기간 칩 + 문의 채널 라디오가 핵심입니다.
업종 선택 즉시 오퍼 추천 3칩을 띄우면 결과 퀄리티가 확 올라갑니다(오퍼가 전단지 품질의 70%).
A/B/C 차별화는 “헤드라인/CTA/불릿”에만 집중하세요(불필요한 변형 줄이기).
결과 상단에 “자동으로 다듬었어요(2곳)” 같은 조용한 피드백을 주면 신뢰가 생깁니다(UX 노이즈 없이).

